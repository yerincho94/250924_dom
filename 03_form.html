<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
    <style>
      form {
        display: flex;
        flex-direction: column;
        align-items: start;
        gap: 8px;
        padding: 24px;
      }
    </style>
  </head>
  <body>
    <form id="userForm" action="">
      <label>
        이름 :
        <input
          name="userName"
          id="userName"
          required
          placeholder="이름을 입력하세요"
        />
      </label>
      <label> 주소 : <input name="userAddress" id="userAddress" /> </label>
      <label>
        나이 : <input name="userAge" id="userAge" type="number" />
      </label>
      <label>
        생일 : <input name="userBirth" id="userBirth" type="date" />
      </label>
      <label>
        취업여부 : <input name="userJob" id="userJob" type="checkbox" />
      </label>

      <label>
        포지션 :
        <select name="userPosition" id="userPosition">
          <option value="1">백앤드</option>
          <option value="2">풀스택</option>
          <option value="3">클라우드</option>
        </select>
      </label>

      <!-- <a href="https://www.naver.com">naver</a> -->

      <button>제출</button>
    </form>

    <section id="result"></section>
    <section id="result2"></section>

    <script>
      const userForm = document.querySelector("#userForm");
      // userForm.addEventLister("click") <= form안에 있는 버튼은 클릭이 아님! 제출임!
      // form은 클릭이 아니라 '제출'을 받는다.

      const userName = document.querySelector("#userName");
      const userAddress = document.querySelector("#userAddress");
      const userAge = document.querySelector("#userAge");
      const userBirth = document.querySelector("#userBirth");
      const userJob = document.querySelector("#userJob");
      const userPosition = document.querySelector("#userPosition");
      const result = document.querySelector("#result");
      const result2 = document.querySelector("#result2");

      userForm.addEventListener("submit", (event) => {
        event.preventDefault(); //기본 작업 막기 (이동하는 것을 막는다)
        alert("제출됨!");
        /*
            그냥 내버려두면 -> get요청을 보낸다. -> 그 주소로 '접속'하게됨. -> 새롭게 화면을 불러온다
            -> 그 화면을 불러오면서 아예 기존에 구성해놨던 js 작업이나 화면이 없어짐.
        */
        //type : checkbox -> checked -> boolean : true /false -> 참/거짓
        //select : option value에 직접적으로 값을 넣어도 되고, switch에 넣어서 let으로 대입해서 써도 댐!

        const formData = new FormData(userForm); //form을 넣으면
        //name이 key 각각의 input/select/checkbox... -> 값이 value
        console.log(formData);

        let position = "";
        switch (userPosition.value) {
          case "1":
            position = "백앤드";
            break;
          case "2":
            position = "풀스택";
            break;
          case "3":
            position = "클라우드";
            break;
        }

        result.innerHTML = `
       <ul>
            <li>이름 : ${userName.value}</li>
            <li>주소 : ${userAddress.value}</li>
            <li>나이 : ${userAge.value}</li>
            <li>생일 : ${userBirth.value}</li>
            <li>취업여부 : ${userJob.checked ? "취업" : "미취업"}</li>
            <li>포지션 : ${position}</li>
        </ul>
        `;

        result2.innerHTML = `
       <ul>
            <li>이름 : ${formData.get("userName")}</li>
            <li>주소 : ${formData.get("userAddress")}</li>
            <li>나이 : ${formData.get("userAge")}</li>
            <li>생일 : ${formData.get("userBirth")}</li>
            <li>취업여부 : ${formData.get("userJob")}</li>
            <li>포지션 : ${formData.get("userPosition")}</li>
        </ul>
        `;

        /*
        const userForm = document.querySelector("#userForm");
        const formData = new FormData(userForm);
        아래와 비교 ㄱㄱ
        */
        // console.log(event.currentTarget);
        //event.currentTarget -> 그냥 자체가 form임!!!
        const formData2 = new FormData(event.currentTarget);
        console.log(formData2);

        /*
            1. 직관적이고 일반적인 방법 : id를 부여해서 각각 input을 호출 (querySelector로)
            2. form (querySelector로) -> newFormData
            3. event -> event.currentTarget = form -> FormData(event.currentTarget)
        */
      });

      //   document
      //     .querySelector("a")
      //     .addEventListener("click", (event) => event.preventDefault()); //naver페이지로 이동 안함.
    </script>
  </body>
</html>
